<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Customer ChatMessages</title>
<script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/7.0.5/signalr.min.js"></script>
  <link rel="shortcut icon" href="/static/images/Favicon.jpg" type="image/x-icon">
  <script src="https://unpkg.com/wavesurfer.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <link rel="stylesheet" href="/common/styles/aichat.css">
  <link rel="stylesheet" href="/roles/Customer/Styles/chatmessage.css">
</head>
<body class="bg-gray-50 text-gray-800 min-h-screen flex flex-col">

  <div id="header-container" class="sticky top-0 z-50"></div>

<main class="flex-1 flex flex-col overflow-hidden">
  
     <div class="bg-white border-b p-4 flex items-center justify-between sticky top-0 z-10">
    <div title="BizStock's Logo" class="flex items-center space-x-3">
         <img src="/static/images/Favicon.jpg" alt="Customer" class="w-10 h-10 rounded-full border border-blue-300">
         <h2 class="text text-gray-500">BizStock</h2>
    </div>
     <div>
        <h1 class="font-semibold text-gray-800">Customer Support</h1>
    </div>
     <div>
    </div>
  </div>


  <div class="flex-1 overflow-y-auto p-4 space-y-4" id="chat-messages">
    
 
  </div>

  <div id="previewArea" class="p-2 space-y-2 hidden"></div>
  <div id="messageBar" class="bg-white border-t p-3 flex items-end space-x-2 sticky bottom-0">
   
    <input type="file" id="imageInput" accept="image/*" class="hidden" />

    <button id="imageBtn" class="p-2 rounded-full hover:bg-gray-200">
      <i data-lucide="image"></i>
    </button>
    <button id="audioBtn" class="p-2 rounded-full hover:bg-gray-200">
      <i data-lucide="mic"></i>
    </button>

    <div id="recordingControls" class="hidden flex items-center space-x-2">
      <span id="recordingTimer" class="text-sm text-red-500 font-medium">0:00</span>
      <button id="stopRecordingBtn" class="p-2 rounded-full hover:bg-red-100 text-red-600">
        <i data-lucide="square"></i>
      </button>
      <button id="deleteRecordingBtn" class="p-2 rounded-full hover:bg-gray-200">
        <i data-lucide="trash"></i>
      </button>
    </div>

    <textarea 
      id="messageInput" 
      rows="1"
      placeholder="Type a message..." 
      class="flex-1 resize-none border rounded-2xl p-2 max-h-32 overflow-y-auto focus:outline-none"
    ></textarea>


    <button id="sendBtn" disabled class="bg-blue-600 text-white px-4 py-2 rounded-2xl flex items-center space-x-1 cursor-not-allowed">
      <span>Send</span>
      <i data-lucide="send" class="w-4 h-4"></i>
    </button>
  </div>
</main>

<div class="hidden" id="footer-container"></div>
  <audio id="messageSound" src="/static/media/file-sounds-1150-pristine.mp3"></audio>
  <div class="hidden" id="ai-container"></div>

</body>

<script src="/common/scripts/layout.js"></script>
<script src="/common/scripts/header.js"></script>
<script src="/common/scripts/footer.js"></script>
<script src="/common/scripts/aichat.js"></script>
<script src="/roles/Customer/Scripts/chatmessage.js"></script>
</body>
</html>
